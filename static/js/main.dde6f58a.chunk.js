(this.webpackJsonpposteat=this.webpackJsonpposteat||[]).push([[0],{64:function(e,t,n){e.exports=n(81)},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=n(13),s=n(41),u=n(46),l=n(14),m=n.n(l),p=n(21),g=n(42),d=n(6),f=n(119),b=n(35),h=n.n(b);n(74),n(76),n(82);h.a.initializeApp({apiKey:"AIzaSyCVyQKVyLh7yo3-szC3n_PSr2I0kSbY1us",authDomain:"posteat-d658b.firebaseapp.com",databaseURL:"https://posteat-d658b.firebaseio.com",projectId:"posteat-d658b",storageBucket:"posteat-d658b.appspot.com",messagingSenderId:"1056443819818",appId:"1:1056443819818:web:00adb92039c09aaa69a053"});var E=h.a,v=h.a.auth(),w=h.a.firestore(),O=h.a.storage(),x={checkUserState:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:Object(d.a)(Object(d.a)({},e.isLoggedIn),{},{userEmail:n.email,userUid:n.uid,userDisplayName:n.displayName,userPhotoUrl:n.photoURL})})},changeLoginField:function(e,t){var n=t.payload,a=n.name,r=n.value;return Object(d.a)(Object(d.a)({},e),{},{loginFields:Object(d.a)(Object(d.a)({},e.loginFields),{},Object(g.a)({},a,r))})},logoutUserId:function(e){return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:""})},showAuthError:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{LoginErrorMessage:n})},setPostsToService:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{posts:n})},changeNewPostText:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{newPostText:n})},attachNewPostImage:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{newPostImage:n})},attachNewPostImageUrl:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{newPostImageUrl:n})},editPost:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{editPostText:n})},resetEditPost:function(e){return Object(d.a)(Object(d.a)({},e),{},{editPostText:""})},editProfileDisplayName:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:Object(d.a)(Object(d.a)({},e.isLoggedIn),{},{userDisplayName:n})})},editProfileInformation:function(e,t){var n=t.payload;return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:Object(d.a)(Object(d.a)({},e.isLoggedIn),{},{userDisplayName:n.userDisplayName,userPhotoUrl:n.userPhotoUrl})})}},j=Object(u.b)({name:"application",initialState:{loginFields:{email:"",password:""},LoginErrorMessage:"",isLoggedIn:{userEmail:"",userUid:"",userDisplayName:"",userPhotoUrl:""},posts:[],newPostText:"",newPostImage:"",newPostImageUrl:"",editPostText:"",basicProfileUrl:""},reducers:x}),P=j.actions,I=j.reducer,y=P.checkUserState,F=P.changeLoginField,L=P.logoutUserId,k=P.showAuthError,T=P.changeNewPostText,C=P.setPostsToService,U=P.editPost,S=P.resetEditPost,N=P.attachNewPostImage,D=P.attachNewPostImageUrl,A=P.editProfileDisplayName;P.editProfileInformation;var R=I,_=Object(u.a)({reducer:R}),M=n(11),B=n(45);function G(e){var t=e.isLoggedIn,n=e.onChange,a=e.editState,o=e.onEdit,c=e.onSave,i=e.onClick,s=t.userEmail,u=t.userDisplayName,l=t.userPhotoUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,s),u,r.a.createElement("h5",null,u?r.a.createElement(r.a.Fragment,null,u):r.a.createElement(r.a.Fragment,null," Hey, No Name ")),l?r.a.createElement("img",{src:l,width:"100px",height:"100px"}):r.a.createElement("img",{width:"100px",height:"100px"}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:u,onChange:function(e){var t=e.target.value;n(t)}}),r.a.createElement("button",{type:"button",onClick:c},"\uc218\uc815")),r.a.createElement("button",{type:"button",onClick:o},"EDIT"),r.a.createElement("button",{type:"button",onClick:i},"LOGOUT"))}function W(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],o=t[1],c=Object(i.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn,s=Object(M.f)(),u=Object(i.b)();function l(){o((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{isLoggedIn:c,onChange:function(e){u(A(e))},editState:n,onEdit:l,onSave:function(){l(),u(function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n(),r=a.isLoggedIn.userDisplayName,v.onAuthStateChanged(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateProfile({displayName:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onClick:function(){v.signOut(),u(L()),s.push("/")}}))}function z(e){var t=e.newPostText,n=e.onChange,a=e.newPostImage,o=e.onAttach,c=e.onSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",name:"newPostText",value:t,onChange:function(e){var t=e.target.value;n(t)},placeholder:"Hello? World!",maxLength:120}),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:a,width:"100px",height:"100px"}),r.a.createElement("button",{type:"button",onClick:function(){return o("")}},"clear"))),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onload=function(e){var t=e.currentTarget.result;o(t)},n.readAsDataURL(t)}}),r.a.createElement("button",{type:"button",onClick:c},"POST EAT!"))}function X(){var e=Object(i.c)((function(e){return{newPostText:e.newPostText,newPostImage:e.newPostImage}})),t=e.newPostText,n=e.newPostImage,a=Object(i.b)();return r.a.createElement(z,{newPostText:t,onChange:function(e){a(T(e))},newPostImage:n,onAttach:function(e){a(N(e)),e&&a(function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,r,o,c,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=a.isLoggedIn.userUid,o=a.newPostImage,c=O.ref().child("".concat(r,"/").concat(Object(f.a)())),e.next=4,c.putString(o,"data_url");case 4:return i=e.sent,e.next=7,i.ref.getDownloadURL();case 7:s=e.sent,t(D(s));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},onSubmit:function(){a(function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=a.newPostText,o=a.isLoggedIn.userUid,c=a.newPostImageUrl,e.next=3,w.collection("PostEat").add({POST_TEXT:r,POST_IMAGE_URL:c,CREATE_DATE:Date.now(),CREATE_UID:o});case 3:t(T(""));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}})}function H(e){var t=e.postId,n=e.postText,a=e.postImageUrl,o=e.checkId,c=e.onClick,i=e.editState,s=e.onEdit,u=e.editPostText,l=e.onChange,m=e.onUpdate;function p(e,t){window.confirm("Do you want to delete this posteat?")&&c(e,t)}function g(e){var t=e.target.value;l(t)}function d(){return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return p(t,a)}},"Delete"),r.a.createElement("button",{type:"button",onClick:s},"Edit")))}return r.a.createElement("div",null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:u,onChange:g}),r.a.createElement("button",{type:"button",onClick:s},"\ucde8\uc18c"),r.a.createElement("button",{type:"button",onClick:function(){return m(t)}},"\uc218\uc815"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:a,width:"150px",height:"150px"}),n,d())))}function J(e){var t=e.postId,n=e.createUid,o=e.postText,c=e.postImageUrl,s=Object(a.useState)(!1),u=Object(B.a)(s,2),l=u[0],g=u[1],d=Object(i.c)((function(e){return{userUid:e.isLoggedIn.userUid,editPostText:e.editPostText}})),f=d.userUid,b=d.editPostText,h=Object(i.b)();function E(){g((function(e){return!e}))}return r.a.createElement(H,{postId:t,postText:o,postImageUrl:c,checkId:n===f,onClick:function(e,t){var n,a;h((n=e,a=t,function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.doc("PostEat/".concat(n)).delete();case 2:return e.next=4,O.refFromURL(a).delete();case 4:t(N(""));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},editState:l,onEdit:E,editPostText:b,onChange:function(e){h(U(e))},onUpdate:function(e){var t;h((t=e,function(){var e=Object(p.a)(m.a.mark((function e(n,a){var r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(),o=r.editPostText,e.next=3,w.doc("PostEat/".concat(t)).update({POST_TEXT:o});case 3:n(S());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),E()}})}function K(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(J,{key:e.POST_ID,postId:e.POST_ID,createUid:e.CREATE_UID,postText:e.POST_TEXT,postImageUrl:e.POST_IMAGE_URL})})))}function V(){var e=Object(i.c)((function(e){return{posts:e.posts}})).posts;return r.a.createElement(K,{posts:e})}function Q(){var e=Object(i.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("PostEat").onSnapshot((function(e){var n=e.docs.map((function(e){return Object(d.a)({POST_ID:e.id},e.data())}));t(C(n))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(V,null),r.a.createElement(W,null))}var Y=n(117),q=n(118),Z=n(113),$=Object(Z.a)((function(e){return{backgroundLogin:{position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",top:0,left:0,width:"100%",height:"100%"},windowLogin:{position:"absolute",width:"60%",height:"60%",margin:"10% 25% 10% 25%",display:"flex"},windowleft:{margin:"5% 0% 0% 0%"},windowRight:{margin:"0% 0% 0% 0%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},textfieldLogin:{margin:e.spacing(1),width:"400px",color:"green"},errorMessage:{fontWeight:"bolder",color:"#FF9480"},buttonLogin:{margin:e.spacing(1),background:"#E85349",color:"#FFFFFF",width:"400px",fontWeight:"bolder","&:hover":{background:"#E85349"}},buttonSignIn:{margin:e.spacing(1),background:"#B4B4B4",color:"#FFFFFF",fontWeight:"bolder",width:"400px","&:hover":{background:"#00A178"}},buttonGoogleIn:{margin:e.spacing(1),background:"#B4B4B4",color:"#FFFFFF",fontWeight:"bolder",width:"400px","&:hover":{background:"#FFEFA3",color:"white"}}}}));function ee(e){var t=e.fields,n=e.onChange,a=e.onClick,o=e.onSubmit,c=e.onGoogle,i=e.LoginErrorMessage,s=t.email,u=t.password;function l(e){var t=e.target,a=t.name,r=t.value;n({name:a,value:r})}var m=$();return r.a.createElement("div",{className:m.backgroundLogin},r.a.createElement("div",{className:m.windowLogin},r.a.createElement("div",{className:m.windowleft},r.a.createElement("img",{src:"https://github.com/iamhwang/project-postEat/blob/master/images/postit.jpg?raw=true",width:"700px",alt:"Calendar"})),r.a.createElement("div",{className:m.windowRight},r.a.createElement("img",{src:"https://github.com/iamhwang/project-postEat/blob/master/images/posteats.png?raw=true",width:"300px",alt:"PostEat Logo"}),r.a.createElement("p",null,"\uba39\uc740 \uc74c\uc2dd\uc744 \uae30\ub85d\ud558\ub2e4"),r.a.createElement(Y.a,{className:m.textfieldLogin,name:"email",type:"text",label:"\uc774\uba54\uc77c",variant:"outlined",value:s,onChange:l}),r.a.createElement(Y.a,{className:m.textfieldLogin,name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",autoComplete:"current-password",variant:"outlined",value:u,onChange:l}),r.a.createElement(q.a,{className:m.buttonLogin,type:"button",color:"default",variant:"contained",onClick:a},"\ub85c\uadf8\uc778"),r.a.createElement(q.a,{className:m.buttonGoogleIn,type:"button",color:"inherit",variant:"contained",onClick:c},"\uad6c\uae00\ub85c \uc2dc\uc791\ud558\uae30"),r.a.createElement(q.a,{className:m.buttonSignIn,type:"button",color:"inherit",variant:"contained",onClick:o},"\uc774\uba54\uc77c\ub85c \uc2dc\uc791\ud558\uae30"),r.a.createElement("p",{className:m.errorMessage},i),r.a.createElement("footer",null,"\xa9 Post Eat @iamhwang"))))}function te(){var e=Object(i.c)((function(e){return{loginFields:e.loginFields,LoginErrorMessage:e.LoginErrorMessage}})),t=e.loginFields,n=e.LoginErrorMessage,a=Object(i.b)();return r.a.createElement(ee,{fields:t,onChange:function(e){var t=e.name,n=e.value;a(F({name:t,value:n}))},onClick:function(){a(function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=a.loginFields,o=r.email,c=r.password,e.prev=1,e.next=4,v.signInWithEmailAndPassword(o,c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t(k(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}())},onSubmit:function(){a(function(){var e=Object(p.a)(m.a.mark((function e(t,n){var a,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=a.loginFields,o=r.email,c=r.password,e.prev=1,e.next=4,v.createUserWithEmailAndPassword(o,c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t(k(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}())},onGoogle:function(){a(function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new E.auth.GoogleAuthProvider,e.prev=1,e.next=4,v.signInWithPopup(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t(k(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())},LoginErrorMessage:n})}function ne(e){var t=e.isLoggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.c,null,t?r.a.createElement(M.a,{exact:!0,path:"/",component:Q}):r.a.createElement(M.a,{exact:!0,path:"/",component:te})))}function ae(){var e=Object(i.c)((function(e){return{userEmail:e.isLoggedIn.userEmail}})).userEmail,t=Object(i.b)();Object(a.useEffect)((function(){v.onAuthStateChanged((function(e){var n=e.email,a=e.uid,r=e.displayName,o=e.photoURL;t(y({email:n,uid:a,displayName:r,photoURL:o}))}))}),[t]);var n=$();return r.a.createElement("div",{className:n.background},r.a.createElement(ne,{isLoggedIn:e}))}c.a.render(r.a.createElement(i.a,{store:_},r.a.createElement(s.a,{basename:"/project-postEat"},r.a.createElement(ae,null))),document.getElementById("app"))}},[[64,1,2]]]);
//# sourceMappingURL=main.dde6f58a.chunk.js.map