(this.webpackJsonpposteat=this.webpackJsonpposteat||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=a(13),l=a(49),s=a(56),u=a(14),m=a.n(u),p=a(25),d=a(50),g=a(6),f=a(153),b=a(42),E=a.n(b);a(95),a(97),a(105);E.a.initializeApp({apiKey:"AIzaSyCVyQKVyLh7yo3-szC3n_PSr2I0kSbY1us",authDomain:"posteat-d658b.firebaseapp.com",databaseURL:"https://posteat-d658b.firebaseio.com",projectId:"posteat-d658b",storageBucket:"posteat-d658b.appspot.com",messagingSenderId:"1056443819818",appId:"1:1056443819818:web:00adb92039c09aaa69a053"});var h=E.a,v=E.a.auth(),w=E.a.firestore(),x=E.a.storage(),O={checkUserState:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:Object(g.a)(Object(g.a)({},e.isLoggedIn),{},{userEmail:a.email,userUid:a.uid,userDisplayName:a.displayName,userPhotoUrl:a.photoURL})})},changeLoginField:function(e,t){var a=t.payload,n=a.name,r=a.value;return Object(g.a)(Object(g.a)({},e),{},{loginFields:Object(g.a)(Object(g.a)({},e.loginFields),{},Object(d.a)({},n,r))})},logoutUserId:function(e){return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:""})},showAuthError:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{LoginErrorMessage:a})},setPostsToService:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{posts:a})},changeNewPostText:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{newPostText:a})},attachNewPostImage:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{newPostImage:a})},attachNewPostImageUrl:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{newPostImageUrl:a})},editPost:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{editPostText:a})},resetEditPost:function(e){return Object(g.a)(Object(g.a)({},e),{},{editPostText:""})},editProfileDisplayName:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:Object(g.a)(Object(g.a)({},e.isLoggedIn),{},{userDisplayName:a})})},editProfileInformation:function(e,t){var a=t.payload;return Object(g.a)(Object(g.a)({},e),{},{isLoggedIn:Object(g.a)(Object(g.a)({},e.isLoggedIn),{},{userDisplayName:a.userDisplayName,userPhotoUrl:a.userPhotoUrl})})}},P=Object(s.b)({name:"application",initialState:{loginFields:{email:"",password:""},LoginErrorMessage:"",isLoggedIn:{userEmail:"",userUid:"",userDisplayName:"",userPhotoUrl:""},posts:[],newPostText:"",newPostImage:"",newPostImageUrl:"",editPostText:"",basicProfileUrl:""},reducers:O}),j=P.actions,y=P.reducer,I=j.checkUserState,k=j.changeLoginField,F=j.logoutUserId,L=j.showAuthError,T=j.changeNewPostText,C=j.setPostsToService,U=j.editPost,N=j.resetEditPost,S=j.attachNewPostImage,D=j.attachNewPostImageUrl,A=j.editProfileDisplayName;j.editProfileInformation;var R=y,_=Object(s.a)({reducer:R}),B=a(12),M=a(55);function G(e){var t=e.isLoggedIn,a=e.onChange,n=e.editState,o=e.onEdit,c=e.onSave,i=e.onClick,l=t.userEmail,s=t.userDisplayName,u=t.userPhotoUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,l),s,r.a.createElement("h5",null,s?r.a.createElement(r.a.Fragment,null,s):r.a.createElement(r.a.Fragment,null," Hey, No Name ")),u?r.a.createElement("img",{src:u,width:"100px",height:"100px"}):r.a.createElement("img",{width:"100px",height:"100px"}),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:s,onChange:function(e){var t=e.target.value;a(t)}}),r.a.createElement("button",{type:"button",onClick:c},"\uc218\uc815")),r.a.createElement("button",{type:"button",onClick:o},"EDIT"),r.a.createElement("button",{type:"button",onClick:i},"LOGOUT"))}function W(){var e=Object(n.useState)(!1),t=Object(M.a)(e,2),a=t[0],o=t[1],c=Object(i.c)((function(e){return{isLoggedIn:e.isLoggedIn}})).isLoggedIn,l=Object(B.f)(),s=Object(i.b)();function u(){o((function(e){return!e}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{isLoggedIn:c,onChange:function(e){s(A(e))},editState:a,onEdit:u,onSave:function(){u(),s(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a(),r=n.isLoggedIn.userDisplayName,v.onAuthStateChanged(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.updateProfile({displayName:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},onClick:function(){v.signOut(),s(F()),l.push("/")}}))}function z(e){var t=e.newPostText,a=e.onChange,n=e.newPostImage,o=e.onAttach,c=e.onSubmit;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",name:"newPostText",value:t,onChange:function(e){var t=e.target.value;a(t)},placeholder:"Hello? World!",maxLength:120}),r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:n,width:"100px",height:"100px"}),r.a.createElement("button",{type:"button",onClick:function(){return o("")}},"clear"))),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){var t=e.currentTarget.result;o(t)},a.readAsDataURL(t)}}),r.a.createElement("button",{type:"button",onClick:c},"POST EAT!"))}function X(){var e=Object(i.c)((function(e){return{newPostText:e.newPostText,newPostImage:e.newPostImage}})),t=e.newPostText,a=e.newPostImage,n=Object(i.b)();return r.a.createElement(z,{newPostText:t,onChange:function(e){n(T(e))},newPostImage:a,onAttach:function(e){n(S(e)),e&&n(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c,i,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.isLoggedIn.userUid,o=n.newPostImage,c=x.ref().child("".concat(r,"/").concat(Object(f.a)())),e.next=4,c.putString(o,"data_url");case 4:return i=e.sent,e.next=7,i.ref.getDownloadURL();case 7:l=e.sent,t(D(l));case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},onSubmit:function(){n(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.newPostText,o=n.isLoggedIn.userUid,c=n.newPostImageUrl,e.next=3,w.collection("PostEat").add({POST_TEXT:r,POST_IMAGE_URL:c,CREATE_DATE:Date.now(),CREATE_UID:o});case 3:t(T(""));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}})}function H(e){var t=e.postId,a=e.postText,n=e.postImageUrl,o=e.checkId,c=e.onClick,i=e.editState,l=e.onEdit,s=e.editPostText,u=e.onChange,m=e.onUpdate;function p(e,t){window.confirm("Do you want to delete this posteat?")&&c(e,t)}function d(e){var t=e.target.value;u(t)}function g(){return r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",onClick:function(){return p(t,n)}},"Delete"),r.a.createElement("button",{type:"button",onClick:l},"Edit")))}return r.a.createElement("div",null,i?r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:s,onChange:d}),r.a.createElement("button",{type:"button",onClick:l},"\ucde8\uc18c"),r.a.createElement("button",{type:"button",onClick:function(){return m(t)}},"\uc218\uc815"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:n,width:"150px",height:"150px"}),a,g())))}function J(e){var t=e.postId,a=e.createUid,o=e.postText,c=e.postImageUrl,l=Object(n.useState)(!1),s=Object(M.a)(l,2),u=s[0],d=s[1],g=Object(i.c)((function(e){return{userUid:e.isLoggedIn.userUid,editPostText:e.editPostText}})),f=g.userUid,b=g.editPostText,E=Object(i.b)();function h(){d((function(e){return!e}))}return r.a.createElement(H,{postId:t,postText:o,postImageUrl:c,checkId:a===f,onClick:function(e,t){var a,n;E((a=e,n=t,function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.doc("PostEat/".concat(a)).delete();case 2:return e.next=4,x.refFromURL(n).delete();case 4:t(S(""));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},editState:u,onEdit:h,editPostText:b,onChange:function(e){E(U(e))},onUpdate:function(e){var t;E((t=e,function(){var e=Object(p.a)(m.a.mark((function e(a,n){var r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=r.editPostText,e.next=3,w.doc("PostEat/".concat(t)).update({POST_TEXT:o});case 3:a(N());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())),h()}})}function K(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(J,{key:e.POST_ID,postId:e.POST_ID,createUid:e.CREATE_UID,postText:e.POST_TEXT,postImageUrl:e.POST_IMAGE_URL})})))}function V(){var e=Object(i.c)((function(e){return{posts:e.posts}})).posts;return r.a.createElement(K,{posts:e})}function Q(){var e=Object(i.b)();return Object(n.useEffect)((function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("PostEat").onSnapshot((function(e){var a=e.docs.map((function(e){return Object(g.a)({POST_ID:e.id},e.data())}));t(C(a))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),r.a.createElement(V,null),r.a.createElement(W,null))}var Y=a(151),q=a(146),Z=a(140),$=Object(Z.a)((function(e){return{backgroundLogin:{position:"absolute",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center",top:0,left:0,width:"100%",height:"100%"},windowLogin:{position:"absolute",width:"60%",height:"60%",margin:"10% 25% 10% 25%",display:"flex"},windowleft:{margin:"5% 0% 0% 0%"},windowRight:{margin:"0% 0% 0% 0%",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},textfieldLogin:{margin:e.spacing(1),width:"400px",color:"green"},errorMessage:{fontWeight:"bolder",color:"#FF9480"},buttonLogin:{margin:e.spacing(1),background:"#E85349",color:"#FFFFFF",width:"400px",fontWeight:"bolder","&:hover":{background:"#E85349"}},buttonSignIn:{margin:e.spacing(1),background:"#B4B4B4",color:"#FFFFFF",fontWeight:"bolder",width:"400px","&:hover":{background:"#00A178"}},buttonGoogleIn:{margin:e.spacing(1),background:"#B4B4B4",color:"#FFFFFF",fontWeight:"bolder",width:"400px","&:hover":{background:"#FFEFA3",color:"white"}},root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}}));function ee(e){var t=e.fields,a=e.onChange,n=e.onClick,o=e.onSubmit,c=e.onGoogle,i=e.LoginErrorMessage,l=t.email,s=t.password;function u(e){var t=e.target,n=t.name,r=t.value;a({name:n,value:r})}var m=$();return r.a.createElement("div",{className:m.backgroundLogin},r.a.createElement("div",{className:m.windowLogin},r.a.createElement("div",{className:m.windowleft},r.a.createElement("img",{src:"https://github.com/iamhwang/project-postEat/blob/master/images/postit.jpg?raw=true",width:"700px",alt:"Calendar"})),r.a.createElement("div",{className:m.windowRight},r.a.createElement("img",{src:"https://github.com/iamhwang/project-postEat/blob/master/images/posteats.png?raw=true",width:"300px",alt:"PostEat Logo"}),r.a.createElement("p",null,"\uba39\uc740 \uc74c\uc2dd\uc744 \uae30\ub85d\ud558\ub2e4"),r.a.createElement(Y.a,{className:m.textfieldLogin,name:"email",type:"text",label:"\uc774\uba54\uc77c",variant:"outlined",value:l,onChange:u}),r.a.createElement(Y.a,{className:m.textfieldLogin,name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",autoComplete:"current-password",variant:"outlined",value:s,onChange:u}),r.a.createElement(q.a,{className:m.buttonLogin,type:"button",color:"default",variant:"contained",onClick:n},"\ub85c\uadf8\uc778"),r.a.createElement(q.a,{className:m.buttonSignIn,type:"button",color:"inherit",variant:"contained",onClick:o},"\uc774\uba54\uc77c\ub85c \uc2dc\uc791\ud558\uae30"),r.a.createElement(q.a,{className:m.buttonGoogleIn,type:"button",color:"inherit",variant:"contained",onClick:c},"\uad6c\uae00\ub85c \uc2dc\uc791\ud558\uae30"),r.a.createElement("p",{className:m.errorMessage},i),r.a.createElement("footer",null,"\xa9 Post Eat @iamhwang"))))}function te(){var e=Object(i.c)((function(e){return{loginFields:e.loginFields,LoginErrorMessage:e.LoginErrorMessage}})),t=e.loginFields,a=e.LoginErrorMessage,n=Object(i.b)();return r.a.createElement(ee,{fields:t,onChange:function(e){var t=e.name,a=e.value;n(k({name:t,value:a}))},onClick:function(){n(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.loginFields,o=r.email,c=r.password,e.prev=1,e.next=4,v.signInWithEmailAndPassword(o,c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t(L(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}())},onSubmit:function(){n(function(){var e=Object(p.a)(m.a.mark((function e(t,a){var n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.loginFields,o=r.email,c=r.password,e.prev=1,e.next=4,v.createUserWithEmailAndPassword(o,c);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t(L(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,a){return e.apply(this,arguments)}}())},onGoogle:function(){n(function(){var e=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.auth.GoogleAuthProvider,e.prev=1,e.next=4,v.signInWithPopup(a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t(L(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())},LoginErrorMessage:a})}var ae=a(154),ne=a(145),re=a(58),oe=a(147),ce=a(148),ie=a(149),le=a(150),se=a(57),ue=a.n(se);function me(){var e=$();return r.a.createElement("div",{className:e.root},r.a.createElement(r.a.Fragment,null,r.a.createElement(ae.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},anchor:"left"},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(oe.a,null),r.a.createElement(ne.a,null,r.a.createElement(ce.a,{button:!0,key:"Board"},r.a.createElement(ie.a,null,r.a.createElement(ue.a,null)),r.a.createElement(le.a,{primary:"Board"})),r.a.createElement(ce.a,{button:!0,key:"Calendar"},r.a.createElement(ie.a,null,r.a.createElement(ue.a,null)),r.a.createElement(le.a,{primary:"Calendar"}))),r.a.createElement(oe.a,null),r.a.createElement(ne.a,null,r.a.createElement(ce.a,{button:!0,key:"User Profile"},r.a.createElement(ie.a,null,r.a.createElement(ue.a,null)),r.a.createElement(le.a,{primary:"User Profile"}))))),r.a.createElement("main",{className:e.content},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.toolbar},r.a.createElement("p",null,"hi")),r.a.createElement(re.a,{paragraph:!0},r.a.createElement(Q,null)))))}function pe(e){var t=e.isLoggedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.c,null,r.a.createElement(r.a.Fragment,null,t?r.a.createElement(B.a,{exact:!0,path:"/",component:me}):r.a.createElement(B.a,{exact:!0,path:"/",component:te})),r.a.createElement(B.a,{component:Q})))}function de(){var e=Object(i.c)((function(e){return{userEmail:e.isLoggedIn.userEmail}})).userEmail,t=Object(i.b)();Object(n.useEffect)((function(){v.onAuthStateChanged((function(e){var a=e.email,n=e.uid,r=e.displayName,o=e.photoURL;t(I({email:a,uid:n,displayName:r,photoURL:o}))}))}),[t]);var a=$();return r.a.createElement("div",{className:a.background},r.a.createElement(pe,{isLoggedIn:e}))}c.a.render(r.a.createElement(i.a,{store:_},r.a.createElement(l.a,{basename:"/project-postEat"},r.a.createElement(de,null))),document.getElementById("app"))},85:function(e,t,a){e.exports=a(104)}},[[85,1,2]]]);
//# sourceMappingURL=main.0d3c99b2.chunk.js.map